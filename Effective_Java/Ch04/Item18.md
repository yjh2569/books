# 상속보다는 컴포지션을 사용하라

* 같은 패키지 안에서라면 상속은 안전한 방법이지만, 다른 패키지의 구체 클래스를 상속하는 것은 위험하다.
* 상속은 캡슐화를 깨뜨린다.
  * 상위 클래스가 어떻게 구현되느냐에 따라 하위 클래스의 동작에 이상이 생길 수 있다.
* 하위 클래스에서 상위 클래스의 메서드를 재정의한 경우 상위 클래스의 메서드 구현 방식이 바뀌거나, 상위 클래스에 새로운 메서드가 추가되면 이로 인해 하위 클래스에 문제가 발생할 수 있다.
* 이를 해결하기 위해 상속을 하는 대신 private 필드로 기존 클래스의 인스턴스를 참조하게 한다.
  * 즉, 기존 클래스가 새로운 클래스의 구성요소로 쓰인다. 이러한 설계를 컴포지션(composition)이라고 한다.
  * 전달(forwarding) : 새 클래스의 인스턴스 메서드가 기존 클래스의 대응하는 메서드를 호출해 결과를 반환하는 방식
  * 전달 메서드 : 전달 시 새 클래스의 메서드
  * 이를 이용하면 새로운 클래스는 기존 클래스의 내부 구현 방식의 영향에서 벗어나고, 기존 클래스에 새로운 메서드가 추가되더라도 영향받지 않는다.
  
* 상속은 반드시 하위 클래스가 상위 클래스의 진짜 하위 타입인 상황에서만 쓰여야 한다.
  * 클래스 B가 클래스 A의 is-a 관계일 때만 클래스 A를 상속해야 한다.

