# 오브젝트와 의존관계

## 초난감 DAO

* 자바빈
  * 자바로 작성된 소프트웨어 컴포넌트
  * 다음 두 가지 관례를 따라 만들어진 오브젝트를 의미한다.
    * 디폴트 생성자 : 파라미터가 없는 디폴트 생성자를 갖고 있어야 한다. 툴이나 프레임워크에서 리플렉션을 이용해 오브젝트를 생성하기 때문이다.
    * 프로퍼티 : 자바빈이 노출하는 이름을 가진 속성을 말한다. 프로퍼티는 수정자 메소드(setter)와 접근자 메소드(getter)를 이용해 수정 또는 조회할 수 있어야 한다.
* 리플렉션
  * 구체적인 클래스 타입을 알지 못해도 그 클래스의 메소드, 타입, 변수들에 접근할 수 있게 해주는 자바 API
  * 자바는 정적 언어이기 때문에 리플렉션을 사용한다.
  * 정적 언어 : 컴파일 시점에 타입을 결정하는 언어
  * 프레임워크, 라이브러리에서 주로 사용
  * 스프링의 DI, Proxy, ModelMapper 등이 있다.
  * Examples
    * getDeclaredFields() : Class의 모든 필드를 가져온다.
    * getType(), getName() : Class 내 Field의 타입 및 이름을 가져온다.

## DAO의 분리

* 리팩토링
  * 기존의 코드를 외부의 동작방식 변화 없이 내부 구조를 변경해서 재구성하는 작업 또는 기술
  * 코드 내부 설계를 개선해 코드를 이해하기가 더 편해지고, 변화에 효율적으로 대응할 수 있다.
* 디자인 패턴
  * 소프트웨어 설계 시 특정 상황에서 자주 만나는 문제를 해결하기 위해 사용할 수 있는 재사용 가능한 솔루션
  * 주로 객체지향 설계에 관한 것이다.
  * 객체지향적인 설계로부터 문제를 해결하기 위한 확장성 추구 방법은 크게 클래스 상속과 오브젝트 합성으로 나뉜다.
* 템플릿 메소드 패턴
  * 슈퍼클래스에 기본적인 로직의 흐름을 만들고, 그 기능의 일부를 추상 메소드나 오버라이딩이 가능한 protected 메소드 등으로 만든 뒤 서브클래스에서 필요에 맞게 구현해서 사용하는 방법
  * 스프링에서 애용되는 디자인 패턴이다.
  * 훅 메소드 : 슈퍼클래스에서 디폴트 기능을 정의하거나 비워뒀다가 서브클래스에서 선택적으로 오버라이드할 수 있도록 만들어둔 메소드
* 팩토리 메소드 패턴
  * 서브클래스에서 구체적인 오브젝트 생성 방법을 결정하게 하는 것
  * 슈퍼클래스 코드에서는 서브클래스에서 구현한 메소드를 호출해서 필요한 타입의 오브젝트를 가져와 사용한다.
  * 메소드는 주로 인터페이스 타입으로 오브젝트를 반환하기에 다양한 방법으로 오브젝트를 생성하는 메소드를 재정의할 수 있다.
  * 팩토리 메소드 : 서브클래스에서 오브젝트 생성 방법과 클래스를 결정할 수 있도록 미리 정의해둔 메소드
  * 자바에서는 오브젝트를 생성하는 기능을 가진 메소드를 팩토리 메소드라고 부르기도 하는데, 위에서 나온 팩토리 메소드와 의미가 다르다.
* 상속의 한계
  * 자바에서는 다중상속을 허용하지 않는다.
  * 서브클래스는 슈퍼클래스의 기능을 직접 사용할 수 있고, 이로 인해 슈퍼클래스 내부의 변경이 있을 때마다 모든 서브클래스를 수정하거나 다시 개발해야 한다.
